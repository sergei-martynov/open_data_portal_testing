# О проекте

Проект "Автотесты для Портала Открытых Данных" представляет собой мой персональный проект, созданный с целью демонстрации моих навыков в области автоматизированного тестирования и работы с соответствующим стеком технологий.

## Описание

Проект охватывает ограниченный набор функциональности [Портала Открытых Данных](https://data.mos.ru/), фокусируясь на ключевых сценариях использования. Несмотря на это, в реализации тестов не используются некоторые более усложненные подходы или функциональности библиотек, которые, возможно, могли бы быть применены. Это решение было принято с учетом ограниченных временных ресурсов и стремления к достижению баланса между эффективностью и сложностью разработки.

## Цель проекта

Целью проекта была возможность продемонстрировать мои навыки разработки автоматизированных тестов, написания кода на Python, и взаимодействия с библиотеками, такими как Selenium, Pytest, и Allure. А также, умение работать с Docker.

Проект организован с использованием ключевого паттерна проектирования Page Object. Этот паттерн обеспечивает четкую структуру и поддерживаемость кода, абстрагируя логику работы с веб-страницами.

### Используемый стек технологий

- **Python**: Основной ЯП для написания автотестов и взаимодействия с библиотеками
- **Selenium**: Инструмент для автоматизации действий пользователя в веб-браузере
- **Pytest**: Фреймворк для организации и запуска тестов
- **Allure**: Инструмент для создания наглядных отчетов о выполнении тестов
- **Docker**: Используется для упрощения развертывания и запуска тестов в контейнере

## Установка

1. Откройте терминал
2. Выберите директорию в которой хотите расположить проект
3. Клонируйте репозиторий с помощью данной команды:

    ```bash
    git clone https://github.com/MartynovX/test
    ```

4. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

## Запуск тестов

### Локальный запуск тестов

1. Откройте терминал
2. Перейдите в директорию с проектом
3. Выполните запуск тестов с помощью данной команды:

```bash
pytest -s -v tests/
```

Браузер по умолчанию - `Firefox`
Для запуска тестов в другом браузере необходимо указать параметр `--browser` "chrome"/"firefox"

Пример:

```bash
pytest --browser chrome -s -v tests/
```

### Просмотр отчетов Allure

Для сбора отчетов Allure, добавьте параметр `--alluredir=allure-results` в командную строку при запуске тестов

Пример:

```bash
pytest -s -v tests/ --alluredir=allure-results
```

Для просмотра отчетов введите данную команду в командную строку:

```bash
allure serve allure-results
```

### Запуск тестов в контейнере Docker

Для запуска тестов в Docker выполните следующие команды:

1. Создание образа из Dockerfile

   Перед запуском убедитесь что вы находитесь в папке с проектом. Для этого используйте команды `pwd` или `cd` для того что бы её поменять.

```bash
docker build --platform linux/amd64 --rm -t open_data_portal_regression .
```

2. Запуск тестов
 Перед использованием измените <текущая_директория> на свою

```bash
docker run --rm -it \
  -v /<текущая_директория>/docker-allure-results:/app/allure-results \
  -v /<текущая_директория>/docker-downloads:/app/downloads \
  -v /<текущая_директория>/docker-screenshots:/app/screenshots \
  open_data_portal_regression pytest --browser firefox -s -v tests/ --alluredir=allure-results
```
